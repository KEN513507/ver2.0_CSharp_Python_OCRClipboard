# scripts/push_changes.ps1
param(
    [string]$Message = "work in progress",
    [string]$Remote  = "origin"
)

git add -A
git status

$branch = (git rev-parse --abbrev-ref HEAD).Trim()
if (-not $branch) { throw "現在のブランチを取得できませんでした。" }

git commit -m $Message
git push $Remote $branch