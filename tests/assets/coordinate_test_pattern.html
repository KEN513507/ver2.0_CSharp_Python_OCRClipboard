<!-- tests/assets/coordinate_test_pattern.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { 
            margin: 0; 
            padding: 20px; 
            font-family: 'Courier New', monospace;
            background: white;
        }
        .grid-container {
            position: relative;
            width: 1000px;
            height: 600px;
            background: 
                repeating-linear-gradient(0deg, #eee, #eee 1px, transparent 1px, transparent 100px),
                repeating-linear-gradient(90deg, #eee, #eee 1px, transparent 1px, transparent 100px);
            border: 3px solid #000;
        }
        .coord-marker {
            position: absolute;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            font-size: 14px;
            font-weight: bold;
            border-radius: 3px;
        }
        .test-text {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            background: rgba(255, 255, 0, 0.3);
            padding: 10px;
            border: 2px solid #000;
        }
        .crosshair {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid red;
        }
        .crosshair::before,
        .crosshair::after {
            content: '';
            position: absolute;
            background: red;
        }
        .crosshair::before {
            width: 2px;
            height: 20px;
            left: 9px;
        }
        .crosshair::after {
            width: 20px;
            height: 2px;
            top: 9px;
        }
    </style>
</head>
<body>
    <h1>Coordinate Test Pattern - DPI Verification</h1>
    <div class="grid-container">
        <!-- 四隅の座標マーカー -->
        <div class="coord-marker" style="left: 0; top: 0;">(0, 0)</div>
        <div class="coord-marker" style="right: 0; top: 0;">(1000, 0)</div>
        <div class="coord-marker" style="left: 0; bottom: 0;">(0, 600)</div>
        <div class="coord-marker" style="right: 0; bottom: 0;">(1000, 600)</div>
        
        <!-- 中心の十字線と座標 -->
        <div class="crosshair" style="left: 490px; top: 290px;"></div>
        <div class="coord-marker" style="left: 450px; top: 320px;">(500, 300)</div>
        
        <!-- 100px間隔の座標参照点 -->
        <div class="coord-marker" style="left: 200px; top: 100px;">(200, 100)</div>
        <div class="coord-marker" style="left: 400px; top: 200px;">(400, 200)</div>
        <div class="coord-marker" style="left: 600px; top: 300px;">(600, 300)</div>
        <div class="coord-marker" style="left: 800px; top: 400px;">(800, 400)</div>
        
        <!-- OCRテスト用テキスト -->
        <div class="test-text" style="left: 100px; top: 50px;">
            TEST-A1: 座標検証用テキスト<br>
            Expected: (100, 50) 400x80
        </div>
        
        <div class="test-text" style="left: 300px; top: 250px;">
            TEST-B1: DPI Scaling Check<br>
            ABCDEFG 1234567890
        </div>
        
        <div class="test-text" style="left: 500px; top: 450px;">
            TEST-C1: 125%環境での精度確認<br>
            期待座標: (500, 450)
        </div>
    </div>
    <script type="application/json" id="test-regions">
    {
        "TEST-A1": [100, 50, 400, 80],
        "TEST-B1": [300, 250, 420, 90],
        "TEST-C1": [500, 450, 380, 90]
    }
    </script>
    
    <div style="margin-top: 20px; padding: 20px; background: #f0f0f0; border: 2px solid #000;">
        <h2>テスト手順</h2>
        <ol>
            <li>このページを<strong>全画面表示</strong>（F11キー）</li>
            <li>OCRツールで<strong>赤い座標マーカー</strong>を含む矩形を選択</li>
            <li>生成された画像内の座標と、ログ出力の座標を比較</li>
            <li><strong>期待値: ログの座標 = マーカーの座標</strong></li>
        </ol>
        <h3>検証ポイント</h3>
        <ul>
            <li>✅ 100%環境: ズレ = 0px</li>
            <li>⚠️ 125%環境: ズレ = 選択座標 × 0.25（バグあり）</li>
            <li>✅ 修正後: すべての環境でズレ = 0px</li>
        </ul>
    </div>
</body>
</html>
